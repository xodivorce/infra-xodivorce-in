## FAQ (рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди)

> [ЁЯЗ║ЁЯЗ╕ FAQ in English](FAQ_EN.md) | ЁЯЗоЁЯЗ│ рд╣рд┐рдВрджреА FAQ | [ЁЯЗ╖ЁЯЗ║ ╨з╨░╨Т╨╛ ╨╜╨░ ╨а╤Г╤Б╤Б╨║╨╛╨╝](FAQ_RU.md) | [ЁЯЗоЁЯЗ╣ FAQ in Italiano](FAQ_IT.md)

<details>
  <summary>рд▓реЛрдХрд▓ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдореЗрдВ рдореЗрд░рд╛ favicon рдХреНрдпреЛрдВ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗ рд░рд╣рд╛ рд╣реИ?</summary>

- рдЕрдкрдиреЗ рдЯрд░реНрдорд┐рдирд▓ рдХреЛ `src/` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЦреЛрд▓реЗрдВ рдФрд░ рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдХрдорд╛рдВрдбреНрд╕ рдЪрд▓рд╛рдПрдБ:

```bash
# рдЗрд╕рдореЗрдВ рдЖрдкрдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдорд╛рдБрдЧрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ
sudo chmod 644 assets/favicon/*
sudo chmod 755 assets/favicon
```

</details>

<details>
  <summary>рдореИрдВ рд╕рднреА рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕реЗ <code>.DS_Store</code> рдлрд╝рд╛рдЗрд▓реЗрдВ рдХреИрд╕реЗ рд╣рдЯрд╛рдКрдБ?</summary>

- рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЬрд╛рдБрдЪ рд▓реЗрдВ рдХрд┐ рдХрд┐рди рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ `.DS_Store` рдлрд╝рд╛рдЗрд▓реЗрдВ рдореМрдЬреВрдж рд╣реИрдВ:

```bash
# рд╕рднреА .DS_Store рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╣рдЯрд╛рдПрдБ
find . -type f -name ".DS_Store" -delete
```

```bash
# рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рдХрд╣реАрдВ рдХреЛрдИ .DS_Store рдлрд╝рд╛рдЗрд▓ рдмрдЪреА рддреЛ рдирд╣реАрдВ
find . -name ".DS_Store"
```

</details>

<details>
  <summary>рдореИрдВ PNG рдФрд░ JPG рдЗрдореЗрдЬ рдХреЛ WebP рдореЗрдВ рдХреИрд╕реЗ рдХрдиреНрд╡рд░реНрдЯ рдХрд░реВрдБ?</summary>

- рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ `ffmpeg` рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реИ, рдлрд┐рд░ рдЙрд╕ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕реЗ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ рдЬрд╣рд╛рдБ рдЖрдкрдХреА рдЗрдореЗрдЬ рдлрд╝рд╛рдЗрд▓реЗрдВ рдореМрдЬреВрдж рд╣реИрдВред

```bash
# рд╕рднреА PNG рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ WebP рдореЗрдВ рдХрдиреНрд╡рд░реНрдЯ рдХрд░реЗрдВ
  for f in *.png; do
  ffmpeg -i "$f" \
    -map_metadata -1 \
    -pix_fmt yuv444p \
    -c:v libwebp \
    -lossless 0 \
    -quality 98 \
    "${f%.png}.webp"
  done
```

```bash
# рд╕рднреА JPG рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ WebP рдореЗрдВ рдХрдиреНрд╡рд░реНрдЯ рдХрд░реЗрдВ
  for f in *.jpg; do
  ffmpeg -i "$f" \
    -map_metadata -1 \
    -pix_fmt yuv444p \
    -c:v libwebp \
    -lossless 0 \
    -quality 98 \
    "${f%.jpg}.webp"
  done
```

</details>

<details>
  <summary>рдореИрдВ рдЕрдкрд▓реЛрдб рдХреЗ рд▓рд┐рдП Google Drive OAuth рдХреИрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реВрдБ?</summary>

- `https://console.cloud.google.com` рдкрд░ рдПрдХ рдирдпрд╛ Google Cloud рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдБ рдФрд░ рдЗрд╕рдХрд╛ рдирд╛рдо рд░рдЦреЗрдВ: `infra-<yourdomain>`
- Google Cloud Console рдореЗрдВ **Google Drive API** рдЦреЛрдЬреЗрдВ рдФрд░ рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ **Enable** рдХрд░реЗрдВред
- рдКрдкрд░ рдмрд╛рдПрдБ тШ░ рдореЗрдиреВ рд╕реЗ **APIs & Services > Credentials** рдкрд░ рдЬрд╛рдПрдБред
- рдиреАрдЪреЗ рджреА рдЧрдИ рдЬрд╛рдирдХрд╛рд░реА рднрд░реЗрдВ:

```bash
#App name:
infra-<yourdomain>
#User support email:
рдЖрдкрдХрд╛ рдИрдореЗрд▓ рдкрддрд╛
#Audience:
External рдЪреБрдиреЗрдВ
#Contact Information:
рдЖрдкрдХрд╛ рдИрдореЗрд▓ рдкрддрд╛
```

- Finish рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдлрд┐рд░ рдпрд╣ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░реЗрдВ: `I agree to the Google API Services.` рдФрд░ рдЖрдЧреЗ рдмрдврд╝реЗрдВред

- рдлрд┐рд░ рд╕реЗ рдКрдкрд░ рдмрд╛рдПрдБ тШ░ рдореЗрдиреВ рд╕реЗ APIs & Services > OAuth consent screen рдкрд░ рдЬрд╛рдПрдБ рдФрд░ Create OAuth рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред

- рдиреАрдЪреЗ рджреА рдЧрдИ рдЬрд╛рдирдХрд╛рд░реА рднрд░реЗрдВ:

```bash
#Application type:
Web application
#Name:
infra-<yourdomain>
#Authorized Redirect URI:
https://<yourdomain>/pages/token/google_oauth_token.php
```

- Save рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рдЬрдм тАЬOAuth client createdтАЭ рдХрд╛ рдкреЙрдкрдЕрдк рджрд┐рдЦрд╛рдИ рджреЗ, рддреЛ Client ID рдФрд░ Client Secret рдХреЙрдкреА рдХрд░реЗрдВ рдФрд░ рдЗрдиреНрд╣реЗрдВ рдЕрдкрдиреА `.env` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `GOOGLE_CLIENT_ID` рдФрд░ `GOOGLE_CLIENT_SECRET` рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрд╡ рдХрд░реЗрдВред

- рдЗрд╕рдХреЗ рдмрд╛рдж рдмрд╛рдПрдБ рд╕рд╛рдЗрдбрдмрд╛рд░ рд╕реЗ Audience рдЦреЛрд▓реЗрдВ, рдиреАрдЪреЗ рд╕реНрдХреНрд░реЙрд▓ рдХрд░рдХреЗ Test users рдореЗрдВ рдЬрд╛рдПрдБ рдФрд░ рдЙрд╕ Gmail рдЕрдХрд╛рдЙрдВрдЯ рдХреЛ рдЬреЛрдбрд╝реЗрдВ рдЬрд┐рд╕реЗ Google Drive рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рд▓реЛрдХрд▓/рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)ред рдмрджрд▓рд╛рд╡ рд╕реЗрд╡ рдХрд░реЗрдВред

> рдиреЛрдЯ: рдпрджрд┐ рдЖрдк рдРрдк рдХреЛ Production mode рдореЗрдВ рднреА рд╕реНрд╡рд┐рдЪ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╕реЗрдЯрдЕрдк рдлрд┐рд░ рднреА рдХрд╛рдо рдХрд░рддрд╛ рд░рд╣реЗрдЧрд╛ред
- рдЕрдм рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдпрд╣ URL рдЦреЛрд▓реЗрдВ: `https://<yourdomain>/pages/token/google_oauth_token.php`ред

- рдпрд╣рд╛рдБ Step 2 рдореЗрдВ рдпрд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ credentials рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд▓реЛрдб рд╣реЛ рдЧрдП рд╣реИрдВред Step 3 рдореЗрдВ рдЙрд╕ Google Drive рдЕрдХрд╛рдЙрдВрдЯ рдХреЛ authorize рдХрд░реЗрдВ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдкрд╣рд▓реЗ рдЬреЛрдбрд╝рд╛ рдерд╛ред

- рд╕рдлрд▓ authorization рдХреЗ рдмрд╛рдж рдПрдХ refresh token рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред рдЗрд╕ рдЯреЛрдХрди рдХреЛ рдХреЙрдкреА рдХрд░реЗрдВ рдФрд░ рдЕрдкрдиреА `.env` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ: `GOOGLE_REFRESH_TOKEN`ред

- рдЕрдВрдд рдореЗрдВ, Google Drive рдореЗрдВ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рдПрдБ (рдпрд╛ рдХреЛрдИ рдореМрдЬреВрджрд╛ рдлрд╝реЛрд▓реНрдбрд░ рдЪреБрдиреЗрдВ)ред
- рдЙрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ three-dot menu > Share > Share рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ General access рдХреЛ рдЗрд╕ рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВ: `Anyone with the link`.

</details>
